<main class="flex justify-center">
    <div class="p-4 max-w-xl w-full h-auto border border-primary-dark bg-secondary-light rounded-lg">
        <div class="flex justify-between items-center">
            <h1 class="font-semibold text-xl mb-3">Location Form</h1>
            <button (click)="closeForm()" class="text-gray-500 hover:text-red-600">
                <i class="fa-solid fa-xmark fa-lg"></i>
            </button>
        </div>
        
        <form [formGroup]="locationForm" (ngSubmit)="onSubmit()" class="space-y-4">
            <div class="grid grid-cols-2 gap-md">
                <div class="form-group">
                    <label for="slug" class="mb-1.5 ml-2.5 block text-sm font-semibold">Slug</label>
                    <input id="slug" type="slug" formControlName="slug"
                        class="form-input border border-primary-dark rounded-md block px-2 h-8 w-full" required>
                    <div *ngIf="locationForm.get('slug')?.touched && locationForm.get('slug')?.invalid"
                        class="text-red-500 text-sm mt-1">
                        <span *ngIf="locationForm.get('slug')?.errors?.['required']">slug is required</span>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-md">
                <div class="form-group">
                    <label for="floors" class="mb-1.5 ml-2.5 block text-sm font-semibold">Floors</label>
                    <input id="floors" type="number" formControlName="floors" min="0" placeholder="0"
                        class="form-input border border-primary-dark rounded-md block px-2 h-8 w-full" required>
                    <div *ngIf="locationForm.get('floors')?.touched && locationForm.get('floors')?.invalid"
                        class="text-red-500 text-sm mt-1">
                        <span *ngIf="locationForm.get('floors')?.errors?.['required']">floors is required</span>
                        <span *ngIf="locationForm.get('floors')?.errors?.['floors']">Invalid floors format</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="rooms" class="mb-1.5 ml-2.5 block text-sm font-semibold">Rooms</label>
                    <input id="rooms" type="number" formControlName="rooms" min="0" placeholder="0"
                        class="form-input border border-primary-dark rounded-md block px-2 h-8 w-full" required>
                    <div *ngIf="locationForm.get('rooms')?.touched && locationForm.get('rooms')?.invalid"
                        class="text-red-500 text-sm mt-1">
                        <span *ngIf="locationForm.get('rooms')?.errors?.['required']">rooms is required</span>
                        <span *ngIf="locationForm.get('rooms')?.errors?.['rooms']">Invalid rooms format</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="street" class="mb-1.5 ml-2.5 block text-sm font-semibold">Street</label>
                    <input id="street" type="street" formControlName="street"
                        class="form-input border border-primary-dark rounded-md block px-2 h-8 w-full" required>
                    <div *ngIf="locationForm.get('street')?.touched && locationForm.get('street')?.invalid"
                        class="text-red-500 text-sm mt-1">
                        <span *ngIf="locationForm.get('street')?.errors?.['required']">street is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="number" class="mb-1.5 ml-2.5 block text-sm font-semibold">Housenumber</label>
                    <input id="number" type="number" formControlName="number"
                        class="form-input border border-primary-dark rounded-md block px-2 h-8 w-full" required>
                    <div *ngIf="locationForm.get('number')?.touched && locationForm.get('number')?.invalid"
                        class="text-red-500 text-sm mt-1">
                        <span *ngIf="locationForm.get('number')?.errors?.['required']">number is required</span>
                        <span *ngIf="locationForm.get('number')?.errors?.['number']">Invalid number format</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="postal" class="mb-1.5 ml-2.5 block text-sm font-semibold">Postal</label>
                    <input id="postal" type="text" formControlName="postal"
                        class="form-input border border-primary-dark rounded-md block px-2 h-8 w-full" required>
                    <div *ngIf="locationForm.get('postal')?.touched && locationForm.get('postal')?.invalid"
                        class="text-red-500 text-sm mt-1">
                        <span *ngIf="locationForm.get('postal')?.errors?.['required']">postal is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="city" class="mb-1.5 ml-2.5 block text-sm font-semibold">City</label>
                    <input id="city" type="text" formControlName="city"
                        class="form-input border border-primary-dark rounded-md block px-2 h-8 w-full" required>
                    <div *ngIf="locationForm.get('city')?.touched && locationForm.get('city')?.invalid"
                        class="text-red-500 text-sm mt-1">
                        <span *ngIf="locationForm.get('city')?.errors?.['required']">city is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="province" class="mb-1.5 ml-2.5 block text-sm font-semibold">Province</label>
                    <select id="province" formControlName="province"
                        class="form-input border border-primary-dark rounded-md block px-2 h-8 w-full" required>
                        <option value="" disabled>Select a province</option>
                        <option value="Drenthe">Drenthe</option>
                        <option value="Flevoland">Flevoland</option>
                        <option value="Friesland">Friesland</option>
                        <option value="Gelderland">Gelderland</option>
                        <option value="Groningen">Groningen</option>
                        <option value="Limburg">Limburg</option>
                        <option value="Noord-Brabant">Noord-Brabant</option>
                        <option value="Noord-Holland">Noord-Holland</option>
                        <option value="Overijssel">Overijssel</option>
                        <option value="Utrecht">Utrecht</option>
                        <option value="Zeeland">Zeeland</option>
                        <option value="Zuid-Holland">Zuid-Holland</option>
                    </select>
                    <div *ngIf="locationForm.get('province')?.touched && locationForm.get('province')?.invalid"
                        class="text-red-500 text-sm mt-1">
                        <span *ngIf="locationForm.get('province')?.errors?.['required']">Province is required</span>
                    </div>
                </div>

            </div>
            <button type="submit"
                [ngClass]="{ 'bg-primary-dark hover:bg-primary-light': !locationForm.invalid, 'bg-gray-300 text-gray-500': locationForm.invalid }"
                class="py-sm px-md text-white flex self-end" [disabled]="locationForm.invalid">
                {{ isEditMode ? 'Save' : 'Submit'}}
            </button>

        </form>
    </div>
</main>